/*
 * Version  : 1.1
 * Author   : Arun Kumar Sekar
 * Mail     : arunkumarsekar@hotmail.com
 * Plugin   : photoZoom.js
 */
(function(a){a.fn.photoZoom=function(b){var c={onMouseOver:function(){},zoomStyle:{"background-color":"#fff","min-width":"50px","min-height":"50px",border:"1px solid #ccc","-moz-box-shadow":"0 0 5px #888","box-shadow":"0 0 5px #888","-webkit-box-shadow":"0 0 5px #888","text-align":"center"},onMouseOut:function(){},attribute:"src"};$this=a(this),$this.options=a.extend({},c,b),$this.coreObj=null;var d={obj:null,maxWidth:0,divObj:$this.coreObj,winWidth:a(window).width(),winHeight:a(window).height(),init:function(b){this.obj=b.obj,this.divObj=this.wrapResponsive(),0===a("body .photoZoom-Large").length&&a("body").append(this.divObj),this.bindEvents()},findImages:function(){var b=!1;return null!==this.obj&&(b=a(this.obj).find("img"),0===b.length&&(b=!1)),b},bindEvents:function(){var b=this.findImages();b&&a.each(b,function(b,c){a(c).live({mouseenter:function(){d.whenHover(this)},mousemove:function(a){d.whenMouseMove(this,a)},mouseleave:function(){d.whenHoverOut(this)}})})},whenHover:function(b){var c=a(b);this.divObj=a("body .photoZoom-Large"),this.divObj.find("img").css("margin-top","0px"),"src"!==$this.options.attribute&&void 0===c.attr($this.options.attribute)&&($this.options.attribute="src"),this.images(c.attr($this.options.attribute)),$this.options.onMouseOver(b),this.divObj.show()},whenMouseMove:function(b,c){var d=new Image;d.src=a(b).attr($this.options.attribute);var e=0,f=0,g=0,h=0,j=0,k=0,l=0,m=0;e=this.winWidth,f=this.winHeight,l=c.pageX,m=c.pageY;var n=55*(e/100);j=m+10,b=this.divObj.find("img"),l>n?(g=l-20>d.width?d.width:l-20,k=l+10-(d.width>e-l)?e-l:d.width,b.css("max-width",g+"px"),this.divObj.css({left:"",right:k+"px",top:j+"px"})):(g=d.width>e-(l+20)?e-(l+20):d.width,b.css("max-width",g+"px"),this.divObj.css({left:l+10+"px",right:"",top:j+"px"}));var o=55*(f/100);o>m?h=f-m-10:(this.divObj.css({top:j-(b.height()+20)+"px"}),h=m-f-10),h=h>this.winHeight?this.winHeight:h,b.css({"max-height":h+"px"})},whenHoverOut:function(a){this.divObj.hide(),$this.options.onMouseOut(a)},wrapResponsive:function(){return $newImage=a("<img />"),$newImage.css({"max-width":"100%",position:"relative",padding:"0px","margin-top":"40%"}).attr("src","images/zoomLoader.gif"),$newImage=a("<div class='photoZoom-Large'></div>").css(a.extend($this.options.zoomStyle,{display:"none",position:"absolute"})).html($newImage)},images:function(a){this.divObj.find("img").attr("src",a)}};return $this.each(function(){d.init({obj:this})})}})(jQuery);